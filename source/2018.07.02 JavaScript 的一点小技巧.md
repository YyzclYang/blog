## | 和 &

| （或）和 & （且）是用来进行布尔判断的。

`a || b / a && b`的值基本上不可能是`true`或者`false`，它们的值一般为`falsy`或者`truthy`

`falsy`值的个数是有限多个，分别为`undefined`、`null`、`0`、`""`、`NAN`，再加上`false`。

### | 符号

当进行 | （或）运算时，只要有一个值为真，那么整个结果为真，其他情况为假。

`a || b || c...`

- 如果结果为`false`，那么它的值为最后一个`falsy`值

例： `0 || undefined || null || console.log('true')`

它的结果为`false`，所以它的值为`console.log('true')`的`falsy`值，虽然它是一句执行语句，但是它的值仍然为`undefined`

![](https://i.loli.net/2018/07/01/5b38c7b75c93f.png)

- 如果结果为`true`，那么它的值为第一个`truthy`值，后面的代码不会执行

例： `0 || undefined || 1 || 2 || console.log('true')`

当它执行到`1`时，计算的结果为`true`，所以后面的代码不会执行，整个式子的值为`1`

![](https://i.loli.net/2018/07/01/5b38c86a2ddb9.png)

### & 符号

当进行 & （且）运算时，只有全部值为真，那么整个结果才为真，其余为假。

`a && b && c...`

- 如果为`false`，那么它的值为第一个`falsy`值，后面的代码不会执行

例： `null && console.log('false') && 8 && 1`

它的结果为`false`，当它执行到`0`时，得到了`false`，后续代码就不会执行了

![](https://i.loli.net/2018/07/01/5b38ca4869088.png)

- 如果为`true`，那么它的值为最后一个`truthy`值

例： `1 && 'a' && {} && []`

它为`true`，所以它的值为最后一个`truthy`值

![](https://i.loli.net/2018/07/01/5b38cdc2c2016.png)

### 利用 | （或）避免危险代码

比如`var a = {}`，乍一看，这定义个变量好像没什么问题，但是其中包含了一个陷阱。那就是你不知道这个`a`变量是不是已经定义了，如果`a`变量在之前就已经定义使用了，那么这句代码就会重新定义`a`变量，极其容易产生错误。

那么在和他人合作完成代码，不清楚某个变量的是否被定义时，应该加一个判断：
```JavaScript
if(a){ 
  a = a;
}else{
  var a = {};
}

//可以优化成

var a = a || {}
```



